<dom-module id="xtal-checkbox">
    <template>
        <input checked$="{{isChecked}}" type="checkbox" on-click="handleClickEvent" id="checkbox"/>
    </template>
    <script>
        Polymer({
            is: 'xtal-checkbox',
            properties:{
                isChecked: {
                    type: Boolean,
                    observer: 'checkedChangeHandler',
                    notify: true,
                    reflectToAttribute: true,
                },
                indeterminate:{
                    type: Boolean,
                    observer: 'indeterminateChangeHandler',
                    notify: true,
                    reflectToAttribute: true,
                }
            },
            checkedChangeHandler: function(newVal){
                //this.$.checkbox.checked = newVal;
            },
            indeterminateChangeHandler: function(newVal){
                this.$.checkbox.indeterminate = newVal;
            },
            handleClickEvent : function(mouseEvent, ea){
                console.log({handleClickEvent: {mouseEvent: mouseEvent, ea: ea, checked: this.$.checkbox.checked}})
                this.isChecked = this.$.checkbox.checked;
                this.fire('checkbox-checked', this.isChecked);
            },
            ready: function(){
                if(this.indeterminate) this.$.checkbox.indeterminate = true;
            }
        })
    </script>
</dom-module>